<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson 3 Exercises</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://unpkg.com/skulpt@1.2.0/dist/skulpt.min.js"></script>
    <script src="https://unpkg.com/skulpt@1.2.0/dist/skulpt-stdlib.js"></script>
</head>
<body>
    <h1>Lesson 3: Inputs Practice</h1>
    <div class="button-container">
        <button onclick="showExercise('exercise1')">Exercise 1</button>
        <button onclick="showExercise('exercise2')">Exercise 2</button>
        <button onclick="showExercise('project1')">Project 1</button>
        <button onclick="showExercise('project2')">Project 2</button>
        <button onclick="goToHomepage()" class="home-button">Back to Homepage</button>
    </div>
    
    <div class="exercise-container">
        <div id="exercise1" class="exercise">
            <div class="instructions">
                <h2>Exercise 1: Understanding Inputs</h2>
                <p><strong>Inputs</strong> are simply data that the user provides to the computer. This can be incredibly useful as they can be used for many things.</p>
                
                <p><strong>Here is the basic input function:</strong></p>
                <pre><code>input()</code></pre>
                <p>Inputs are stored in variables from where they can be easily manipulated to perform other tasks.</p>    
                <pre><code>variable = input()</code></pre>

                <p>Inside the brackets of the input function, you must place the input message, which simply prints before you ask the user for their input.</p>
                <pre><code>input("Please enter your name: ")</code></pre>
                
                <br>
                <h3>Try it Yourself</h3>
                <p>Practice writing different input statements!</p>
            </div>
            <div class="editor">
                <textarea id="codeEditor1" rows="10" cols="50"># practice writing a variety of input statements!
variable1 = # TODO: replace and write an input statement
variable2 = # TODO: replace and write a second input statement
variable3 = # TODO: replace and write a third input statement

# TODO: print the three variables
                </textarea>
                <button onclick="runCode('codeEditor1', 'output1', 'result1', 'success')">Run</button>
                <div class="output">
                    <h3>Output</h3>
                    <pre id="output1"></pre>
                </div>
                <div class="result">
                    <h3>Result</h3>
                    <pre id="result1"></pre>
                </div>
            </div>
        </div>

        <div id="exercise2" class="exercise" style="display: none;">
            <div class="instructions">
                <h2>Exercise 2: Input Conversion</h2>
                <p>Inputs always come out as a string, which means that if you only input a number, you cannot perform any actions on it besides the string concatenation since the <strong>integer is now a string.</strong></p>
                <br>
                <p>Luckily, coding languages provide a function which turn the strings to the integers (if there are components of a non-integer, or words, in the string, it will provide an error).</p>
                
                <p>The <code>int()</code> function converts the string into an integer.</p> 
                <pre><code>int(input("Type a number"))</code></pre>
                <p>The <code>float()</code> function converts the string into a float.</p> 
                <pre><code>float(input("Type a decimal"))</code></pre>
                <h3>Try it Yourself</h3>
                <p>Write a Python program that asks the user for their name and age, and then prints a message greeting them and stating their age.</p>
            </div>
            <div class="editor">
                <textarea id="codeEditor2" rows="10" cols="50"># write a program to ask the user for their name and age
name = #TODO
age = #TODO
print(f"Hello, {name}! You are {age} years old.")</textarea>
                <button onclick="runCode('codeEditor2', 'output2', 'result2')">Run</button>
                <div class="output">
                    <h3>Output</h3>
                    <pre id="output2"></pre>
                </div>
                <div class="result">
                    <h3>Result</h3>
                    <pre id="result2"></pre>
                </div>
            </div>
        </div>
    </div>

    <div id="project1" class="exercise" style="display: none;">
        <div class="instructions">
            <h2>Project: Art Project</h2>
            <p>Use this space to create your own design using <strong> print </strong> statements.</p>
            <p>Remember that anything you input between the parantheses get printed!</p><br>
            <p>Here is mine: \_('_')_/ </p>
            <p>What's yours? Get creative with it!</p>
        </div>
        <div class="editor">
            <textarea id="codeEditorProject" rows="20" cols="100"># start your project here, write a story or create artwork!</textarea>
            <button onclick="runCode('codeEditorProject', 'outputProject', 'resultProject')">Run</button>
            <div class="output">
                <h3>Output</h3>
                <pre id="outputProject"></pre>
            </div>
            <div class="result">
                <h3>Result</h3>
                <pre id="resultProject"></pre>
            </div>
        </div>
    </div>
</div>

<div id="project2" class="exercise" style="display: none;">
    <div class="instructions">
        <h2>Project: Art Project</h2>
        <p>Use this space to create your own design using <strong> print </strong> statements.</p>
        <p>Remember that anything you input between the parantheses get printed!</p><br>
        <p>Here is mine: \_('_')_/ </p>
        <p>What's yours? Get creative with it!</p>
    </div>
    <div class="editor">
        <textarea id="codeEditorProject" rows="20" cols="100"># start your project here, write a story or create artwork!</textarea>
        <button onclick="runCode('codeEditorProject', 'outputProject', 'resultProject')">Run</button>
        <div class="output">
            <h3>Output</h3>
            <pre id="outputProject"></pre>
        </div>
        <div class="result">
            <h3>Result</h3>
            <pre id="resultProject"></pre>
        </div>
    </div>
</div>
</div>

    <script>
        function showExercise(exerciseId) {
            const exercises = document.querySelectorAll('.exercise');
            exercises.forEach(exercise => {
                exercise.style.display = 'none';
            });
            document.getElementById(exerciseId).style.display = 'flex';
        }

        function builtinRead(x) {
            if (Sk.builtinFiles === undefined || Sk.builtinFiles["files"][x] === undefined) {
                throw "File not found: '" + x + "'";
            }
            return Sk.builtinFiles["files"][x];
        }

        async function runCode(editorId, outputId, resultId, expectedOutput = null) {
            const code = document.getElementById(editorId).value;
            const outputElement = document.getElementById(outputId);
            const resultElement = document.getElementById(resultId);
            outputElement.textContent = "";
            resultElement.textContent = "";

            const isEffectiveCode = code.split('\n').some(line => {
                const strippedLine = line.trim();
                return strippedLine && !strippedLine.startsWith('#');
            });

            if (!isEffectiveCode) {
                resultElement.textContent = "Error: No effective code provided";
                return;
            }

            try {
                Sk.configure({ 
                    output: function (text) {
                        outputElement.textContent += text;
                    },
                    read: builtinRead
                });
                const promise = Sk.misceval.asyncToPromise(() => Sk.importMainWithBody("<stdin>", false, code, true));
                await promise;
                const actualOutput = outputElement.textContent.trim();
                if (actualOutput === "") {
                    resultElement.textContent = "Error: No output generated";
                } else if (expectedOutput === "success") {
                    resultElement.textContent = "Success";
                } else if (actualOutput === expectedOutput) {
                    resultElement.textContent = "Success";
                } else {
                    resultElement.textContent = `Error: Output does not match expected output.\nExpected: '${expectedOutput}'\nActual: '${actualOutput}'`;
                }
            } catch (error) {
                resultElement.textContent = `Error: ${error.toString()}`;
            }
        }
    </script>
        <script>
            function goToHomepage() {
                window.location.href = 'python_tutorials.html';  
            }
        </script>
</body>
</html>
